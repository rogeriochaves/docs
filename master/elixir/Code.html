<!DOCTYPE html>
<html>
  <head>
    <title>Code</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="css/style.css" type="text/css" media="screen" charset="utf-8" />
    <link rel="stylesheet" href="css/elixir.css" type="text/css" media="screen" charset="utf-8" />
    <script type="text/javascript" charset="utf-8">
      relpath = '';
      if (relpath != '') relpath += '/';
    </script>

    <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>
    <script type="text/javascript" charset="utf-8" src="js/app.js"></script>
    <script type="text/javascript" charset="utf-8" src="js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
  </head>

  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>

    <section id="content">
      <div class="breadcrumbs">Elixir v1.1.0-dev &rarr; <a href="overview.html">Overview</a> &rarr; <a href="Code.html">Code</a></div>
      <h1>
        Code
        
      </h1>

      <ul class="summary_links">
        
          <li><a href="#summary">Summary</a></li>
        
        
        
          <li><a href="#functions_details">Functions</a></li>
        
        
        
      </ul>

      
        <section id="moduledoc" class="docstring">
          <p>Utilities for managing code compilation, code evaluation and code loading.</p>
<p>This module complements <a href="http://www.erlang.org/doc/man/code.html">Erlang’s code module</a>
to add behaviour which is specific to Elixir.</p>

        </section>
      

      
        <a href="https://github.com/elixir-lang/elixir/blob/ed2b6fc57d5ac8be403d374cb95cd0a2d3c6f8d5/lib/elixir/lib/code.ex#L1" class="view_source">Source</a>
      

      
        <h2 id="summary">Summary<span class="detail_header_links"><a class="to_top_link" href="#content" title="To the top of the page">&uarr;</a></span></h2>
        <table class="summary">
          <tr>
  <td class="summary_signature"><a href="#append_path/1">append_path(path)</a></td>
  
    <td class="summary_synopsis"><p>Appends a path to the Erlang VM code path</p>
</td>
  
</tr>
<tr>
  <td class="summary_signature"><a href="#available_compiler_options/0">available_compiler_options()</a></td>
  
    <td class="summary_synopsis"><p>Returns a list with the available compiler options</p>
</td>
  
</tr>
<tr>
  <td class="summary_signature"><a href="#compile_quoted/2">compile_quoted(quoted, file \\ &quot;nofile&quot;)</a></td>
  
    <td class="summary_synopsis"><p>Compiles the quoted expression</p>
</td>
  
</tr>
<tr>
  <td class="summary_signature"><a href="#compile_string/2">compile_string(string, file \\ &quot;nofile&quot;)</a></td>
  
    <td class="summary_synopsis"><p>Compiles the given string</p>
</td>
  
</tr>
<tr>
  <td class="summary_signature"><a href="#compiler_options/0">compiler_options()</a></td>
  
    <td class="summary_synopsis"><p>Gets the compilation options from the code server</p>
</td>
  
</tr>
<tr>
  <td class="summary_signature"><a href="#compiler_options/1">compiler_options(opts)</a></td>
  
    <td class="summary_synopsis"><p>Sets compilation options</p>
</td>
  
</tr>
<tr>
  <td class="summary_signature"><a href="#delete_path/1">delete_path(path)</a></td>
  
    <td class="summary_synopsis"><p>Deletes a path from the Erlang VM code path</p>
</td>
  
</tr>
<tr>
  <td class="summary_signature"><a href="#ensure_compiled/1">ensure_compiled(module)</a></td>
  
    <td class="summary_synopsis"><p>Ensures the given module is compiled and loaded</p>
</td>
  
</tr>
<tr>
  <td class="summary_signature"><a href="#ensure_compiled?/1">ensure_compiled?(module)</a></td>
  
    <td class="summary_synopsis"><p>Ensures the given module is compiled and loaded</p>
</td>
  
</tr>
<tr>
  <td class="summary_signature"><a href="#ensure_loaded/1">ensure_loaded(module)</a></td>
  
    <td class="summary_synopsis"><p>Ensures the given module is loaded</p>
</td>
  
</tr>
<tr>
  <td class="summary_signature"><a href="#ensure_loaded?/1">ensure_loaded?(module)</a></td>
  
    <td class="summary_synopsis"><p>Ensures the given module is loaded</p>
</td>
  
</tr>
<tr>
  <td class="summary_signature"><a href="#eval_file/2">eval_file(file, relative_to \\ nil)</a></td>
  
    <td class="summary_synopsis"><p>Evals the given file</p>
</td>
  
</tr>
<tr>
  <td class="summary_signature"><a href="#eval_quoted/3">eval_quoted(quoted, binding \\ [], opts \\ [])</a></td>
  
    <td class="summary_synopsis"><p>Evaluates the quoted contents</p>
</td>
  
</tr>
<tr>
  <td class="summary_signature"><a href="#eval_string/3">eval_string(string, binding \\ [], opts \\ [])</a></td>
  
    <td class="summary_synopsis"><p>Evaluates the contents given by <code class="inline">string</code></p>
</td>
  
</tr>
<tr>
  <td class="summary_signature"><a href="#get_docs/2">get_docs(module, kind)</a></td>
  
    <td class="summary_synopsis"><p>Returns the docs for the given module</p>
</td>
  
</tr>
<tr>
  <td class="summary_signature"><a href="#load_file/2">load_file(file, relative_to \\ nil)</a></td>
  
    <td class="summary_synopsis"><p>Loads the given file</p>
</td>
  
</tr>
<tr>
  <td class="summary_signature"><a href="#loaded_files/0">loaded_files()</a></td>
  
    <td class="summary_synopsis"><p>Lists all loaded files</p>
</td>
  
</tr>
<tr>
  <td class="summary_signature"><a href="#prepend_path/1">prepend_path(path)</a></td>
  
    <td class="summary_synopsis"><p>Prepends a path to the Erlang VM code path</p>
</td>
  
</tr>
<tr>
  <td class="summary_signature"><a href="#readd_paths/0">readd_paths()</a></td>
  
    <td class="summary_synopsis"><p>Re-add paths given to the command line to keep their position
on the overall code path</p>
</td>
  
</tr>
<tr>
  <td class="summary_signature"><a href="#require_file/2">require_file(file, relative_to \\ nil)</a></td>
  
    <td class="summary_synopsis"><p>Requires the given <code class="inline">file</code></p>
</td>
  
</tr>
<tr>
  <td class="summary_signature"><a href="#string_to_quoted!/2">string_to_quoted!(string, opts \\ [])</a></td>
  
    <td class="summary_synopsis"><p>Converts the given string to its quoted form</p>
</td>
  
</tr>
<tr>
  <td class="summary_signature"><a href="#string_to_quoted/2">string_to_quoted(string, opts \\ [])</a></td>
  
    <td class="summary_synopsis"><p>Converts the given string to its quoted form</p>
</td>
  
</tr>
<tr>
  <td class="summary_signature"><a href="#unload_files/1">unload_files(files)</a></td>
  
    <td class="summary_synopsis"><p>Removes files from the loaded files list</p>
</td>
  
</tr>

        </table>
      

      

      
        <section id="functions_details" class="details_list">
          <h2>Functions</h2>
          <section class="detail">
  <div class="detail_header" id="append_path/1">
    <span class="signature"><strong>append_path(path)</strong></span>
    <div class="detail_header_links">
      <span class="detail_type">(function)</span>
      <a href="#append_path/1" class="detail_link" title="Link to this function">#</a>
      <a class="to_top_link" href="#content" title="To the top of the page">&uarr;</a>
    </div>
  </div>
  
  <section class="docstring">
    <p>Appends a path to the Erlang VM code path.</p>
<p>The path is expanded with <a href="Path.html#expand/1"><code class="inline">Path.expand/1</code></a> before being appended.</p>

  </section>
  
    <a href="https://github.com/elixir-lang/elixir/blob/ed2b6fc57d5ac8be403d374cb95cd0a2d3c6f8d5/lib/elixir/lib/code.ex#L32" class="view_source">Source</a>
  
</section>
<section class="detail">
  <div class="detail_header" id="available_compiler_options/0">
    <span class="signature"><strong>available_compiler_options()</strong></span>
    <div class="detail_header_links">
      <span class="detail_type">(function)</span>
      <a href="#available_compiler_options/0" class="detail_link" title="Link to this function">#</a>
      <a class="to_top_link" href="#content" title="To the top of the page">&uarr;</a>
    </div>
  </div>
  
  <section class="docstring">
    <p>Returns a list with the available compiler options.</p>
<p>See <a href="Code.html#compiler_options/1"><code class="inline">Code.compiler_options/1</code></a> for more info.</p>

  </section>
  
    <a href="https://github.com/elixir-lang/elixir/blob/ed2b6fc57d5ac8be403d374cb95cd0a2d3c6f8d5/lib/elixir/lib/code.ex#L334" class="view_source">Source</a>
  
</section>
<section class="detail">
  <div class="detail_header" id="compile_quoted/2">
    <span class="signature"><strong>compile_quoted(quoted, file \\ &quot;nofile&quot;)</strong></span>
    <div class="detail_header_links">
      <span class="detail_type">(function)</span>
      <a href="#compile_quoted/2" class="detail_link" title="Link to this function">#</a>
      <a class="to_top_link" href="#content" title="To the top of the page">&uarr;</a>
    </div>
  </div>
  
  <section class="docstring">
    <p>Compiles the quoted expression.</p>
<p>Returns a list of tuples where the first element is the module name and
the second one is its byte code (as a binary).</p>

  </section>
  
    <a href="https://github.com/elixir-lang/elixir/blob/ed2b6fc57d5ac8be403d374cb95cd0a2d3c6f8d5/lib/elixir/lib/code.ex#L386" class="view_source">Source</a>
  
</section>
<section class="detail">
  <div class="detail_header" id="compile_string/2">
    <span class="signature"><strong>compile_string(string, file \\ &quot;nofile&quot;)</strong></span>
    <div class="detail_header_links">
      <span class="detail_type">(function)</span>
      <a href="#compile_string/2" class="detail_link" title="Link to this function">#</a>
      <a class="to_top_link" href="#content" title="To the top of the page">&uarr;</a>
    </div>
  </div>
  
  <section class="docstring">
    <p>Compiles the given string.</p>
<p>Returns a list of tuples where the first element is the module name
and the second one is its byte code (as a binary).</p>
<p>For compiling many files at once, check <a href="Kernel.ParallelCompiler.html#files/2"><code class="inline">Kernel.ParallelCompiler.files/2</code></a>.</p>

  </section>
  
    <a href="https://github.com/elixir-lang/elixir/blob/ed2b6fc57d5ac8be403d374cb95cd0a2d3c6f8d5/lib/elixir/lib/code.ex#L376" class="view_source">Source</a>
  
</section>
<section class="detail">
  <div class="detail_header" id="compiler_options/0">
    <span class="signature"><strong>compiler_options()</strong></span>
    <div class="detail_header_links">
      <span class="detail_type">(function)</span>
      <a href="#compiler_options/0" class="detail_link" title="Link to this function">#</a>
      <a class="to_top_link" href="#content" title="To the top of the page">&uarr;</a>
    </div>
  </div>
  
  <section class="docstring">
    <p>Gets the compilation options from the code server.</p>
<p>Check <a href="#compiler_options/1"><code class="inline">compiler_options/1</code></a> for more information.</p>

  </section>
  
    <a href="https://github.com/elixir-lang/elixir/blob/ed2b6fc57d5ac8be403d374cb95cd0a2d3c6f8d5/lib/elixir/lib/code.ex#L325" class="view_source">Source</a>
  
</section>
<section class="detail">
  <div class="detail_header" id="compiler_options/1">
    <span class="signature"><strong>compiler_options(opts)</strong></span>
    <div class="detail_header_links">
      <span class="detail_type">(function)</span>
      <a href="#compiler_options/1" class="detail_link" title="Link to this function">#</a>
      <a class="to_top_link" href="#content" title="To the top of the page">&uarr;</a>
    </div>
  </div>
  
  <section class="docstring">
    <p>Sets compilation options.</p>
<p>These options are global since they are stored by Elixir’s Code Server.</p>
<p>Available options are:</p>
<ul>
<li><p><code class="inline">:docs</code> - when <code class="inline">true</code>, retain documentation in the compiled module,
<code class="inline">true</code> by default</p>
</li>
<li><p><code class="inline">:debug_info</code> - when <code class="inline">true</code>, retain debug information in the compiled
module; this allows a developer to reconstruct the original source
code, <code class="inline">false</code> by default</p>
</li>
<li><p><code class="inline">:ignore_module_conflict</code> - when <code class="inline">true</code>, override modules that were
already defined without raising errors, <code class="inline">false</code> by default</p>
</li>
<li><code class="inline">:warnings_as_errors</code> - cause compilation to fail when warnings are
generated
</li>
</ul>

  </section>
  
    <a href="https://github.com/elixir-lang/elixir/blob/ed2b6fc57d5ac8be403d374cb95cd0a2d3c6f8d5/lib/elixir/lib/code.ex#L359" class="view_source">Source</a>
  
</section>
<section class="detail">
  <div class="detail_header" id="delete_path/1">
    <span class="signature"><strong>delete_path(path)</strong></span>
    <div class="detail_header_links">
      <span class="detail_type">(function)</span>
      <a href="#delete_path/1" class="detail_link" title="Link to this function">#</a>
      <a class="to_top_link" href="#content" title="To the top of the page">&uarr;</a>
    </div>
  </div>
  
  <section class="docstring">
    <p>Deletes a path from the Erlang VM code path.</p>
<p>The path is expanded with <a href="Path.html#expand/1"><code class="inline">Path.expand/1</code></a> before being deleted.</p>

  </section>
  
    <a href="https://github.com/elixir-lang/elixir/blob/ed2b6fc57d5ac8be403d374cb95cd0a2d3c6f8d5/lib/elixir/lib/code.ex#L50" class="view_source">Source</a>
  
</section>
<section class="detail">
  <div class="detail_header" id="ensure_compiled/1">
    <span class="signature"><strong>ensure_compiled(module)</strong></span>
    <div class="detail_header_links">
      <span class="detail_type">(function)</span>
      <a href="#ensure_compiled/1" class="detail_link" title="Link to this function">#</a>
      <a class="to_top_link" href="#content" title="To the top of the page">&uarr;</a>
    </div>
  </div>
  
  <section class="docstring">
    <p>Ensures the given module is compiled and loaded.</p>
<p>If the module is already loaded, it works as no-op. If the module was
not loaded yet, it checks if it needs to be compiled first and then
tries to load it.</p>
<p>If it succeeds loading the module, it returns <code class="inline">{:module, module}</code>.
If not, returns <code class="inline">{:error, reason}</code> with the error reason.</p>
<p>Check <a href="#ensure_loaded/1"><code class="inline">ensure_loaded/1</code></a> for more information on module loading
and when to use <a href="#ensure_loaded/1"><code class="inline">ensure_loaded/1</code></a> or <a href="#ensure_compiled/1"><code class="inline">ensure_compiled/1</code></a>.</p>

  </section>
  
    <a href="https://github.com/elixir-lang/elixir/blob/ed2b6fc57d5ac8be403d374cb95cd0a2d3c6f8d5/lib/elixir/lib/code.ex#L456" class="view_source">Source</a>
  
</section>
<section class="detail">
  <div class="detail_header" id="ensure_compiled?/1">
    <span class="signature"><strong>ensure_compiled?(module)</strong></span>
    <div class="detail_header_links">
      <span class="detail_type">(function)</span>
      <a href="#ensure_compiled?/1" class="detail_link" title="Link to this function">#</a>
      <a class="to_top_link" href="#content" title="To the top of the page">&uarr;</a>
    </div>
  </div>
  
  <section class="docstring">
    <p>Ensures the given module is compiled and loaded.</p>
<p>Similar to <a href="#ensure_compiled/1"><code class="inline">ensure_compiled/1</code></a>, but returns <code class="inline">true</code> if the module
is already loaded or was successfully loaded and compiled.
Returns <code class="inline">false</code> otherwise.</p>

  </section>
  
    <a href="https://github.com/elixir-lang/elixir/blob/ed2b6fc57d5ac8be403d374cb95cd0a2d3c6f8d5/lib/elixir/lib/code.ex#L480" class="view_source">Source</a>
  
</section>
<section class="detail">
  <div class="detail_header" id="ensure_loaded/1">
    <span class="signature"><strong>ensure_loaded(module)</strong></span>
    <div class="detail_header_links">
      <span class="detail_type">(function)</span>
      <a href="#ensure_loaded/1" class="detail_link" title="Link to this function">#</a>
      <a class="to_top_link" href="#content" title="To the top of the page">&uarr;</a>
    </div>
  </div>
  
  <section class="docstring">
    <p>Ensures the given module is loaded.</p>
<p>If the module is already loaded, this works as no-op. If the module
was not yet loaded, it tries to load it.</p>
<p>If it succeeds loading the module, it returns <code class="inline">{:module, module}</code>.
If not, returns <code class="inline">{:error, reason}</code> with the error reason.</p>
<h2>Code loading on the Erlang VM</h2>
<p>Erlang has two modes to load code: interactive and embedded.</p>
<p>By default, the Erlang VM runs in interactive mode, where modules
are loaded as needed. In embedded mode the opposite happens, as all
modules need to be loaded upfront or explicitly.</p>
<p>Therefore, this function is used to check if a module is loaded
before using it and allows one to react accordingly. For example, the <a href="URI.html"><code class="inline">URI</code></a>
module uses this function to check if a specific parser exists for a given
URI scheme.</p>
<h2>[`Code.ensure_compiled/1`](Code.html#ensure_compiled/1)</h2>
<p>Elixir also contains an <a href="#ensure_compiled/1"><code class="inline">ensure_compiled/1</code></a> function that is a
superset of <a href="#ensure_loaded/1"><code class="inline">ensure_loaded/1</code></a>.</p>
<p>Since Elixir’s compilation happens in parallel, in some situations
you may need to use a module that was not yet compiled, therefore
it can’t even be loaded.</p>
<p><a href="#ensure_compiled/1"><code class="inline">ensure_compiled/1</code></a> halts the current process until the
module we are depending on is available.</p>
<p>In most cases, <a href="#ensure_loaded/1"><code class="inline">ensure_loaded/1</code></a> is enough. <a href="#ensure_compiled/1"><code class="inline">ensure_compiled/1</code></a>
must be used in rare cases, usually involving macros that need to
invoke a module for callback information.</p>

  </section>
  
    <a href="https://github.com/elixir-lang/elixir/blob/ed2b6fc57d5ac8be403d374cb95cd0a2d3c6f8d5/lib/elixir/lib/code.ex#L428" class="view_source">Source</a>
  
</section>
<section class="detail">
  <div class="detail_header" id="ensure_loaded?/1">
    <span class="signature"><strong>ensure_loaded?(module)</strong></span>
    <div class="detail_header_links">
      <span class="detail_type">(function)</span>
      <a href="#ensure_loaded?/1" class="detail_link" title="Link to this function">#</a>
      <a class="to_top_link" href="#content" title="To the top of the page">&uarr;</a>
    </div>
  </div>
  
  <section class="docstring">
    <p>Ensures the given module is loaded.</p>
<p>Similar to <a href="#ensure_loaded/1"><code class="inline">ensure_loaded/1</code></a>, but returns <code class="inline">true</code> if the module
is already loaded or was successfully loaded. Returns <code class="inline">false</code>
otherwise.</p>

  </section>
  
    <a href="https://github.com/elixir-lang/elixir/blob/ed2b6fc57d5ac8be403d374cb95cd0a2d3c6f8d5/lib/elixir/lib/code.ex#L439" class="view_source">Source</a>
  
</section>
<section class="detail">
  <div class="detail_header" id="eval_file/2">
    <span class="signature"><strong>eval_file(file, relative_to \\ nil)</strong></span>
    <div class="detail_header_links">
      <span class="detail_type">(function)</span>
      <a href="#eval_file/2" class="detail_link" title="Link to this function">#</a>
      <a class="to_top_link" href="#content" title="To the top of the page">&uarr;</a>
    </div>
  </div>
  
  <section class="docstring">
    <p>Evals the given file.</p>
<p>Accepts <code class="inline">relative_to</code> as an argument to tell where the file is located.</p>
<p>While <code class="inline">load_file</code> loads a file and returns the loaded modules and their
byte code, <code class="inline">eval_file</code> simply evaluates the file contents and returns the
evaluation result and its bindings.</p>

  </section>
  
    <a href="https://github.com/elixir-lang/elixir/blob/ed2b6fc57d5ac8be403d374cb95cd0a2d3c6f8d5/lib/elixir/lib/code.ex#L264" class="view_source">Source</a>
  
</section>
<section class="detail">
  <div class="detail_header" id="eval_quoted/3">
    <span class="signature"><strong>eval_quoted(quoted, binding \\ [], opts \\ [])</strong></span>
    <div class="detail_header_links">
      <span class="detail_type">(function)</span>
      <a href="#eval_quoted/3" class="detail_link" title="Link to this function">#</a>
      <a class="to_top_link" href="#content" title="To the top of the page">&uarr;</a>
    </div>
  </div>
  
  <section class="docstring">
    <p>Evaluates the quoted contents.</p>
<p>See <a href="#eval_string/3"><code class="inline">eval_string/3</code></a> for a description of arguments and return values.</p>
<h2>Examples</h2>
<pre><code>iex&gt; contents = quote(do: var!(a) + var!(b))
iex&gt; Code.eval_quoted(contents, [a: 1, b: 2], file: __ENV__.file, line: __ENV__.line)
{3, [a: 1, b: 2]}</code></pre>
<p>For convenience, you can pass <code class="inline">__ENV__</code> as the <code class="inline">opts</code> argument and
all options will be automatically extracted from the current environment:</p>
<pre><code>iex&gt; contents = quote(do: var!(a) + var!(b))
iex&gt; Code.eval_quoted(contents, [a: 1, b: 2], __ENV__)
{3, [a: 1, b: 2]}</code></pre>

  </section>
  
    <a href="https://github.com/elixir-lang/elixir/blob/ed2b6fc57d5ac8be403d374cb95cd0a2d3c6f8d5/lib/elixir/lib/code.ex#L161" class="view_source">Source</a>
  
</section>
<section class="detail">
  <div class="detail_header" id="eval_string/3">
    <span class="signature"><strong>eval_string(string, binding \\ [], opts \\ [])</strong></span>
    <div class="detail_header_links">
      <span class="detail_type">(function)</span>
      <a href="#eval_string/3" class="detail_link" title="Link to this function">#</a>
      <a class="to_top_link" href="#content" title="To the top of the page">&uarr;</a>
    </div>
  </div>
  
  <section class="docstring">
    <p>Evaluates the contents given by <code class="inline">string</code>.</p>
<p>The <code class="inline">binding</code> argument is a keyword list of variable bindings.
The <code class="inline">opts</code> argument is a keyword list of environment options.</p>
<p>Those options can be:</p>
<ul>
<li><code class="inline">:file</code> - the file to be considered in the evaluation
</li>
<li><code class="inline">:line</code> - the line on which the script starts
</li>
</ul>
<p>Additionally, the following scope values can be configured:</p>
<ul>
<li><p><code class="inline">:aliases</code> - a list of tuples with the alias and its target</p>
</li>
<li><p><code class="inline">:requires</code> - a list of modules required</p>
</li>
<li><p><code class="inline">:functions</code> - a list of tuples where the first element is a module
and the second a list of imported function names and arity; the list
of function names and arity must be sorted</p>
</li>
<li><code class="inline">:macros</code> - a list of tuples where the first element is a module
and the second a list of imported macro names and arity; the list
of function names and arity must be sorted
</li>
</ul>
<p>Notice that setting any of the values above overrides Elixir’s default
values. For example, setting <code class="inline">:requires</code> to <code class="inline">[]</code>, will no longer
automatically require the <a href="Kernel.html"><code class="inline">Kernel</code></a> module; in the same way setting
<code class="inline">:macros</code> will no longer auto-import <a href="Kernel.html"><code class="inline">Kernel</code></a> macros like <code class="inline">if</code>, <code class="inline">case</code>,
etc.</p>
<p>Returns a tuple of the form <code class="inline">{value, binding}</code>,
where <code class="inline">value</code> is the value returned from evaluating <code class="inline">string</code>.
If an error occurs while evaluating <code class="inline">string</code> an exception will be raised.</p>
<p><code class="inline">binding</code> is a keyword list with the value of all variable bindings
after evaluating <code class="inline">string</code>. The binding key is usually an atom, but it
may be a tuple for variables defined in a different context.</p>
<h2>Examples</h2>
<pre><code>iex&gt; Code.eval_string(&quot;a + b&quot;, [a: 1, b: 2], file: __ENV__.file, line: __ENV__.line)
{3, [a: 1, b: 2]}

iex&gt; Code.eval_string(&quot;c = a + b&quot;, [a: 1, b: 2], __ENV__)
{3, [a: 1, b: 2, c: 3]}

iex&gt; Code.eval_string(&quot;a = a + b&quot;, [a: 1, b: 2])
{3, [a: 3, b: 2]}</code></pre>
<p>For convenience, you can pass <code class="inline">__ENV__</code> as the <code class="inline">opts</code> argument and
all imports, requires and aliases defined in the current environment
will be automatically carried over:</p>
<pre><code>iex&gt; Code.eval_string(&quot;a + b&quot;, [a: 1, b: 2], __ENV__)
{3, [a: 1, b: 2]}</code></pre>

  </section>
  
    <a href="https://github.com/elixir-lang/elixir/blob/ed2b6fc57d5ac8be403d374cb95cd0a2d3c6f8d5/lib/elixir/lib/code.ex#L129" class="view_source">Source</a>
  
</section>
<section class="detail">
  <div class="detail_header" id="get_docs/2">
    <span class="signature"><strong>get_docs(module, kind)</strong></span>
    <div class="detail_header_links">
      <span class="detail_type">(function)</span>
      <a href="#get_docs/2" class="detail_link" title="Link to this function">#</a>
      <a class="to_top_link" href="#content" title="To the top of the page">&uarr;</a>
    </div>
  </div>
  
  <section class="docstring">
    <p>Returns the docs for the given module.</p>
<p>When given a module name, it finds its BEAM code and reads the docs from it.</p>
<p>When given a path to a .beam file, it will load the docs directly from that
file.</p>
<p>The return value depends on the <code class="inline">kind</code> value:</p>
<ul>
<li><p><code class="inline">:docs</code> - list of all docstrings attached to functions and macros
using the <code class="inline">@doc</code> attribute</p>
</li>
<li><p><code class="inline">:moduledoc</code> - tuple <code class="inline">{&lt;line&gt;, &lt;doc&gt;}</code> where <code class="inline">line</code> is the line on
which module definition starts and <code class="inline">doc</code> is the string
attached to the module using the <code class="inline">@moduledoc</code> attribute</p>
</li>
<li><code class="inline">:all</code> - a keyword list with both <code class="inline">:docs</code> and <code class="inline">:moduledoc</code>
</li>
</ul>

  </section>
  
    <a href="https://github.com/elixir-lang/elixir/blob/ed2b6fc57d5ac8be403d374cb95cd0a2d3c6f8d5/lib/elixir/lib/code.ex#L504" class="view_source">Source</a>
  
</section>
<section class="detail">
  <div class="detail_header" id="load_file/2">
    <span class="signature"><strong>load_file(file, relative_to \\ nil)</strong></span>
    <div class="detail_header_links">
      <span class="detail_type">(function)</span>
      <a href="#load_file/2" class="detail_link" title="Link to this function">#</a>
      <a class="to_top_link" href="#content" title="To the top of the page">&uarr;</a>
    </div>
  </div>
  
  <section class="docstring">
    <p>Loads the given file.</p>
<p>Accepts <code class="inline">relative_to</code> as an argument to tell where the file is located.
If the file was already required/loaded, loads it again.</p>
<p>It returns a list of tuples <code class="inline">{ModuleName, &lt;&lt;byte_code&gt;&gt;}</code>, one tuple for
each module defined in the file.</p>
<p>Notice that if <code class="inline">load_file</code> is invoked by different processes concurrently,
the target file will be loaded concurrently many times. Check <a href="#require_file/2"><code class="inline">require_file/2</code></a>
if you don’t want a file to be loaded concurrently.</p>

  </section>
  
    <a href="https://github.com/elixir-lang/elixir/blob/ed2b6fc57d5ac8be403d374cb95cd0a2d3c6f8d5/lib/elixir/lib/code.ex#L282" class="view_source">Source</a>
  
</section>
<section class="detail">
  <div class="detail_header" id="loaded_files/0">
    <span class="signature"><strong>loaded_files()</strong></span>
    <div class="detail_header_links">
      <span class="detail_type">(function)</span>
      <a href="#loaded_files/0" class="detail_link" title="Link to this function">#</a>
      <a class="to_top_link" href="#content" title="To the top of the page">&uarr;</a>
    </div>
  </div>
  
  <section class="docstring">
    <p>Lists all loaded files.</p>

  </section>
  
    <a href="https://github.com/elixir-lang/elixir/blob/ed2b6fc57d5ac8be403d374cb95cd0a2d3c6f8d5/lib/elixir/lib/code.ex#L12" class="view_source">Source</a>
  
</section>
<section class="detail">
  <div class="detail_header" id="prepend_path/1">
    <span class="signature"><strong>prepend_path(path)</strong></span>
    <div class="detail_header_links">
      <span class="detail_type">(function)</span>
      <a href="#prepend_path/1" class="detail_link" title="Link to this function">#</a>
      <a class="to_top_link" href="#content" title="To the top of the page">&uarr;</a>
    </div>
  </div>
  
  <section class="docstring">
    <p>Prepends a path to the Erlang VM code path.</p>
<p>The path is expanded with <a href="Path.html#expand/1"><code class="inline">Path.expand/1</code></a> before being prepended.</p>

  </section>
  
    <a href="https://github.com/elixir-lang/elixir/blob/ed2b6fc57d5ac8be403d374cb95cd0a2d3c6f8d5/lib/elixir/lib/code.ex#L41" class="view_source">Source</a>
  
</section>
<section class="detail">
  <div class="detail_header" id="readd_paths/0">
    <span class="signature"><strong>readd_paths()</strong></span>
    <div class="detail_header_links">
      <span class="detail_type">(function)</span>
      <a href="#readd_paths/0" class="detail_link" title="Link to this function">#</a>
      <a class="to_top_link" href="#content" title="To the top of the page">&uarr;</a>
    </div>
  </div>
  
    <p>Specs:</p>
    <ul class="spec">
      
        <li>readd_paths :: :ok</li>
      
    </ul>
  
  <section class="docstring">
    <p>Re-add paths given to the command line to keep their position
on the overall code path.</p>
<p>Some tools may change the code path by prepending new items but
still want the paths given by the user to have higher priority.
Calling this function guarantees the paths are re-added on
top of the user given ones.</p>

  </section>
  
    <a href="https://github.com/elixir-lang/elixir/blob/ed2b6fc57d5ac8be403d374cb95cd0a2d3c6f8d5/lib/elixir/lib/code.ex#L64" class="view_source">Source</a>
  
</section>
<section class="detail">
  <div class="detail_header" id="require_file/2">
    <span class="signature"><strong>require_file(file, relative_to \\ nil)</strong></span>
    <div class="detail_header_links">
      <span class="detail_type">(function)</span>
      <a href="#require_file/2" class="detail_link" title="Link to this function">#</a>
      <a class="to_top_link" href="#content" title="To the top of the page">&uarr;</a>
    </div>
  </div>
  
  <section class="docstring">
    <p>Requires the given <code class="inline">file</code>.</p>
<p>Accepts <code class="inline">relative_to</code> as an argument to tell where the file is located.
The return value is the same as that of <a href="#load_file/2"><code class="inline">load_file/2</code></a>. If the file was already
required/loaded, doesn’t do anything and returns <code class="inline">nil</code>.</p>
<p>Notice that if <code class="inline">require_file</code> is invoked by different processes concurrently,
the first process to invoke <code class="inline">require_file</code> acquires a lock and the remaining
ones will block until the file is available. I.e. if <code class="inline">require_file</code> is called
N times with a given file, it will be loaded only once. The first process to
call <code class="inline">require_file</code> will get the list of loaded modules, others will get <code class="inline">nil</code>.</p>
<p>Check <a href="#load_file/2"><code class="inline">load_file/2</code></a> if you want a file to be loaded multiple times.</p>

  </section>
  
    <a href="https://github.com/elixir-lang/elixir/blob/ed2b6fc57d5ac8be403d374cb95cd0a2d3c6f8d5/lib/elixir/lib/code.ex#L305" class="view_source">Source</a>
  
</section>
<section class="detail">
  <div class="detail_header" id="string_to_quoted/2">
    <span class="signature"><strong>string_to_quoted(string, opts \\ [])</strong></span>
    <div class="detail_header_links">
      <span class="detail_type">(function)</span>
      <a href="#string_to_quoted/2" class="detail_link" title="Link to this function">#</a>
      <a class="to_top_link" href="#content" title="To the top of the page">&uarr;</a>
    </div>
  </div>
  
  <section class="docstring">
    <p>Converts the given string to its quoted form.</p>
<p>Returns <code class="inline">{:ok, quoted_form}</code>
if it succeeds, <code class="inline">{:error, {line, error, token}}</code> otherwise.</p>
<h2>Options</h2>
<ul>
<li><p><code class="inline">:file</code> - the filename to be used in stacktraces
and the file reported in the <code class="inline">__ENV__</code> variable</p>
</li>
<li><p><code class="inline">:line</code> - the line reported in the <code class="inline">__ENV__</code> variable</p>
</li>
<li><code class="inline">:existing_atoms_only</code> - when <code class="inline">true</code>, raises an error
when non-existing atoms are found by the tokenizer
</li>
</ul>
<h2>Macro.to_string/2</h2>
<p>The opposite of converting a string to its quoted form is
<a href="Macro.html#to_string/2"><code class="inline">Macro.to_string/2</code></a>, which converts a quoted form to a string/binary
representation.</p>

  </section>
  
    <a href="https://github.com/elixir-lang/elixir/blob/ed2b6fc57d5ac8be403d374cb95cd0a2d3c6f8d5/lib/elixir/lib/code.ex#L233" class="view_source">Source</a>
  
</section>
<section class="detail">
  <div class="detail_header" id="string_to_quoted!/2">
    <span class="signature"><strong>string_to_quoted!(string, opts \\ [])</strong></span>
    <div class="detail_header_links">
      <span class="detail_type">(function)</span>
      <a href="#string_to_quoted!/2" class="detail_link" title="Link to this function">#</a>
      <a class="to_top_link" href="#content" title="To the top of the page">&uarr;</a>
    </div>
  </div>
  
  <section class="docstring">
    <p>Converts the given string to its quoted form.</p>
<p>It returns the ast if it succeeds,
raises an exception otherwise. The exception is a <a href="TokenMissingError.html"><code class="inline">TokenMissingError</code></a>
in case a token is missing (usually because the expression is incomplete),
<a href="SyntaxError.html"><code class="inline">SyntaxError</code></a> otherwise.</p>
<p>Check <a href="#string_to_quoted/2"><code class="inline">string_to_quoted/2</code></a> for options information.</p>

  </section>
  
    <a href="https://github.com/elixir-lang/elixir/blob/ed2b6fc57d5ac8be403d374cb95cd0a2d3c6f8d5/lib/elixir/lib/code.ex#L249" class="view_source">Source</a>
  
</section>
<section class="detail">
  <div class="detail_header" id="unload_files/1">
    <span class="signature"><strong>unload_files(files)</strong></span>
    <div class="detail_header_links">
      <span class="detail_type">(function)</span>
      <a href="#unload_files/1" class="detail_link" title="Link to this function">#</a>
      <a class="to_top_link" href="#content" title="To the top of the page">&uarr;</a>
    </div>
  </div>
  
  <section class="docstring">
    <p>Removes files from the loaded files list.</p>
<p>The modules defined in the file are not removed;
calling this function only removes them from the list,
allowing them to be required again.</p>

  </section>
  
    <a href="https://github.com/elixir-lang/elixir/blob/ed2b6fc57d5ac8be403d374cb95cd0a2d3c6f8d5/lib/elixir/lib/code.ex#L23" class="view_source">Source</a>
  
</section>

        </section>
      

      

      
    </section>
  </body>
</html>
